#!/usr/bin/env node

const shell = require('shelljs');
const argv = require('yargs').argv;
const start = require('../lib/index');
const deploy = require('../lib/deploy');
const color = require('../lib/util/color');
const commander = require('../lib/util/commander');
const chalk = require('chalk');

const script = process.argv[2];
const avgs = process.argv.slice(2);
const error = color.error;
const warning = color.warning;
const success = color.success;
const info = color.info;
switch (script) {
    case '-v':
        console.log(info(require('../package.json').version));
        break;
    case '-h':
        // console.log(info('lucii [build, dll, mock, server, deploy]'));
        commander(require('../package.json').version);
        break;
    case 'build':
    case 'dll':
    case 'mock':
    case 'server':
    case 'deploy':
        console.log(success(`start run script -- ${script}`));
        start(avgs, argv);
        break;
    default:
        console.log(error(`No script -- ${script}, runable script as follow:`));
        shell.exec('lucii -h');
        break;
}