'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function (options) {
    var config = options.config;

    function apply(compiler) {
        compiler.plugin('compilation', function (compilation) {
            compilation.plugin('html-webpack-plugin-before-html-processing', function (htmlPluginData, callback) {
                var filename = require(config.root + '/manifest.json').name;
                htmlPluginData.assets.js.unshift(htmlPluginData.assets.publicPath + 'dist/' + filename + '.js');
                callback(null, htmlPluginData);
            });
        });
    }
    return {
        apply: apply
    };
};

module.exports = exports['default'];